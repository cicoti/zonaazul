<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pm="http://primefaces.org/mobile"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>

		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"/>
		<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
		<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

  		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
  		<script type="text/javascript" src="gmaps.js"></script>
  		<link rel="stylesheet" type="text/css" href="examples.css" />

<script type="text/javascript">

$(document).ready(function(){

var longitude = 0;
var latitude = 0;
	
    GMaps.geolocate({
    success: function(position){

   	 	longitude = position.coords.latitude;
   	 	latitude = position.coords.longitude;
   	    $('#idLongitude').val(longitude);
 	    $('#idLatitude').val(latitude);
  	 	
    },
    error: function(error){
      alert('Geolocation failed: '+error.message);
    },
    not_supported: function(){
      alert("Your browser does not support geolocation");
    }
    
   
    
  }); 

	
  
});


function fadeoutfunction(){
	 setTimeout(function(){
	    $('[id$=messages]').fadeOut();
	 },5000);
	} 
</script>

</h:head>
<body>

<div data-role="page">
  <div data-role="header">
    <h1>Welcome To My Homepage</h1>
  </div>


  <div data-role="main" class="ui-content">
    <form  id="formTeste" method="post" data-ajax="false" action="#{solicitaBean.solicitar()}">
    <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"  />
      <div class="ui-field-contain">
        <input type="text" name="longitude" id="idLongitude"/>       
        <input type="text" name="latitude" id="idLatitude" />
        
      </div>
      <input type="submit" value="Submit" />
    </form>
   </div> 

  <div data-role="footer">
    <h1>Footer Text</h1>
  </div>
  
</div> 
</body>
</html>